(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48981926"],{6095:function(e,t,n){"use strict";n("c7c9")},bb47:function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a"),n("b0c0");var c=n("7a23"),r=Object(c["D"])("data-v-55c56072");Object(c["r"])("data-v-55c56072");var o={class:"admin-body"},a={key:0,class:"log-in"},i=Object(c["f"])("label",{for:"password"},"Admin password",-1),s={key:0},d={key:1,action:"",method:"post"},l={for:"project-name",ref:"proj"},p=Object(c["f"])("label",{for:"project-description"},"Project Description",-1),u=Object(c["f"])("label",{for:"project-tech"}," Project tech (C++,C#,... etc.)",-1),j=Object(c["f"])("label",{for:"project-git"},"Project git link",-1),b=Object(c["f"])("label",{for:"project-live"},"Project Live Link",-1),f=Object(c["f"])("label",{for:"project-image"},"Project Image",-1),h={key:2},m=Object(c["f"])("div",null,null,-1),g={key:3,class:"admin-project-list"},O={class:"edit-delete-btns"};Object(c["p"])();var v=r((function(e,t,n,r,v,w){return Object(c["o"])(),Object(c["d"])("div",o,[e.showAddForm?Object(c["e"])("",!0):(Object(c["o"])(),Object(c["d"])("div",a,[i,Object(c["C"])(Object(c["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.passwordField=t}),type:"password",name:"password",id:"password",required:""},null,512),[[c["z"],e.passwordField]]),e.wrongPassword?(Object(c["o"])(),Object(c["d"])("p",s,"Wrong Password... Try again")):Object(c["e"])("",!0),Object(c["f"])("button",{onClick:t[2]||(t[2]=function(){return e.logInUser.apply(e,arguments)})},"Log in")])),e.showAddForm?(Object(c["o"])(),Object(c["d"])("form",d,[Object(c["f"])("label",l,"Project Name",512),Object(c["C"])(Object(c["f"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.projectName=t}),name:"project-name",id:"project-name",required:""},null,512),[[c["z"],e.projectName]]),p,Object(c["C"])(Object(c["f"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.description=t}),type:"text",name:"project-description",id:"project-description",required:""},null,512),[[c["z"],e.description]]),u,Object(c["C"])(Object(c["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.tech=t}),type:"text",name:"project-tech",id:"project-tech",placeholder:"",required:""},null,512),[[c["z"],e.tech]]),j,Object(c["C"])(Object(c["f"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.git=t}),name:"project-git",id:"project-git"},null,512),[[c["z"],e.git]]),b,Object(c["C"])(Object(c["f"])("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.live=t}),name:"project-live",id:"project-live"},null,512),[[c["z"],e.live]]),f,Object(c["f"])("input",{type:"file",onChange:t[8]||(t[8]=function(){return e.imageHandler.apply(e,arguments)}),name:"project-image",id:"project-image"},null,32)])):Object(c["e"])("",!0),Object(c["f"])("div",null,[Object(c["f"])("button",{onClick:t[9]||(t[9]=function(){return e.testClick.apply(e,arguments)})},"Add"),Object(c["f"])("button",{onClick:t[10]||(t[10]=function(){return e.editProject.apply(e,arguments)})},"Update")]),e.projectAdded?(Object(c["o"])(),Object(c["d"])("h2",h,"Project added")):Object(c["e"])("",!0),m,e.renderList?(Object(c["o"])(),Object(c["d"])("div",g,[(Object(c["o"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(e.projectList,(function(t,n){return Object(c["o"])(),Object(c["d"])("div",{key:n},[Object(c["f"])("div",null,[Object(c["f"])("img",{src:t.image,alt:"NO img"},null,8,["src"]),Object(c["f"])("h2",null,Object(c["x"])(t.name),1)]),Object(c["f"])("div",O,[Object(c["f"])("button",{onClick:function(n){return e.fillProjectData(t)}},"edit",8,["onClick"]),Object(c["f"])("button",{onClick:function(n){return e.deleteProject(t.name)}},"delete",8,["onClick"])])])})),128))])):Object(c["e"])("",!0)])})),w=(n("96cf"),n("1da1")),k=n("bc3a"),y=n.n(k),P=Object(c["g"])({name:"AdminPanel",data:function(){return{showAddForm:!1,wrongPassword:!1,projectAdded:!1,projectName:"",description:"",tech:"",git:"",live:"",image:"",created:"",renderList:!1,passwordField:"",projectList:[]}},methods:{testClick:function(e){e.preventDefault();var t=this.addToFormData();this.sendRequest(t)},addToFormData:function(){var e=new FormData;return e.append("project_name",this.projectName),e.append("description",this.description),e.append("tech",this.tech),e.append("git",this.git),e.append("live",this.live),e.append("project_image",this.image),e},sendRequest:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:try{y.a.post("http://localhost:3333/add-project",e).then((function(e){200===e.data&&t.projectAddedShow()})).catch((function(e){return console.log(e)}))}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})))()},imageHandler:function(e){this.image=e.target.files[0]},projectAddedShow:function(){this.projectAdded=!0},logInUser:function(){var e=this,t=new FormData;t.append("password",this.passwordField),y.a.post("http://localhost:3333/api/login",t).then((function(t){console.log(t.status),200===t.status?(e.showAddForm=!0,e.getProjectList()):401===t.data&&(e.wrongPassword=!0)})).catch((function(e){return console.log(e)}))},getProjectList:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.a.get("http://localhost:3333/api/projects");case 3:return n=t.sent,t.next=6,n.data;case 6:c=t.sent,e.projectList=c,console.log(c),e.renderList=!0,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},deleteProject:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.a.delete("http://localhost:3333/delete-project/".concat(e)).then((function(e){t.projectList=e.data})).catch((function(e){return console.log(e)}));case 3:n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},editProject:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.addToFormData(),n.delete("project_image"),n.append("project_image",e.image),t.prev=3,t.next=6,y.a.post("http://localhost:3333/edit",n).then((function(t){e.projectList=t.data})).catch((function(e){return console.log(e)}));case 6:t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})))()},fillProjectData:function(e){console.log(e),this.projectName=e.name,this.description=e.description,this.tech=e.tech,this.git=e.git,this.live=e.live,this.image=e.image}}});n("6095");P.render=v,P.__scopeId="data-v-55c56072";t["default"]=P},c7c9:function(e,t,n){}}]);
//# sourceMappingURL=chunk-48981926.1071b39e.js.map